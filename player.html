<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Video Player</title>
  <style>
    * { margin:0; padding:0; box-sizing:border-box; }
    body { background:#000; overflow:hidden; height:100vh; color:#fff; }
    #video-container { position: relative; width:100%; height:100vh; }
    
    iframe {
      width: 100%;
      height: 100%;
      border: none;
      display: block;
      background: #000;
    }
    
    .footer { 
      position: absolute; 
      bottom: 0; 
      left:0; 
      right:0; 
      padding:8px; 
      text-align:center; 
      font-size:12px; 
      background:rgba(0,0,0,0.5); 
      pointer-events:none; 
      z-index: 10; 
    }
  </style>
</head>
<body>

  <!-- Iklan popunder tetap seperti asli -->
  <script src="https://cadencebenefit.com/d7/40/72/d740727fb09e8bff8da9a4708c619bd7.js"></script>

  <script>
    setTimeout(() => {
      console.log('Popunder delay 5 detik');
    }, 5000);
  </script>

  <div id="video-container">
    <iframe 
      srcdoc='
        <!DOCTYPE html>
        <html lang="en">
        <head>
          <meta charset="UTF-8">
          <meta name="viewport" content="width=device-width, initial-scale=1.0">
          <style>
            body, html { margin:0; padding:0; height:100%; background:#000; overflow:hidden; font-family:Arial,sans-serif; }
            #wrapper { position:relative; width:100%; height:100%; }
            video { width:100%; height:100%; object-fit:contain; background:#000; display:block; }
            
            /* Overlay play besar persis seperti videy.co style: bundar, semi-transparan, segitiga putih */
            .big-play {
              position: absolute;
              top:50%; left:50%;
              transform:translate(-50%,-50%);
              width:100px; height:100px;
              background:rgba(0,0,0,0.5);
              border-radius:50%;
              border:4px solid #fff;
              cursor:pointer;
              display:flex;
              align-items:center;
              justify-content:center;
              transition:all 0.2s;
              z-index:30;
            }
            .big-play:hover { background:rgba(255,255,255,0.2); transform:translate(-50%,-50%) scale(1.08); }
            .play-triangle {
              width:0; height:0;
              border-top:20px solid transparent;
              border-bottom:20px solid transparent;
              border-left:35px solid #fff;
              margin-left:5px;
            }
            
            /* Hilangkan overlay saat playing, tampil lagi saat pause */
            .hidden { opacity:0; pointer-events:none; }
            
            /* Kontrol native lebih clean, muncul saat hover/tap */
            video::-webkit-media-controls-enclosure { background:rgba(0,0,0,0.6); border-radius:4px; }
            video::-webkit-media-controls { opacity:0; transition:opacity 0.3s; }
            #wrapper:hover video::-webkit-media-controls { opacity:1; }
          </style>
        </head>
        <body>
          <div id="wrapper">
            <video id="v" controls playsinline preload="metadata"></video>
            <div class="big-play" id="bigPlay">
              <div class="play-triangle"></div>
            </div>
          </div>
          
          <script>
            const params = new URLSearchParams(window.location.search || window.parent.location.search);
            const id = params.get("v");
            const video = document.getElementById("v");
            const bigPlay = document.getElementById("bigPlay");
            
            if (id && id.length >= 5) {
              video.src = "https://cdn.videy.co/" + id + ".mp4";
              
              // Event: klik big play â†’ mulai video & hilangkan tombol
              const playVideo = () => {
                video.play().catch(() => {});
                bigPlay.classList.add("hidden");
              };
              
              bigPlay.addEventListener("click", playVideo);
              video.addEventListener("click", () => {
                if (video.paused) playVideo();
              });
              
              // Saat pause, tampilkan lagi big play
              video.addEventListener("pause", () => {
                bigPlay.classList.remove("hidden");
              });
              
              // Saat play, hilangkan
              video.addEventListener("play", () => {
                bigPlay.classList.add("hidden");
              });
              
              // Kontrol native selalu enable setelah load
              video.addEventListener("loadedmetadata", () => {
                video.controls = true;
              });
            } else {
              document.body.innerHTML = "<div style=\"position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);color:#fff;font-size:20px;\">Video tidak ditemukan</div>";
            }
          </script>
        </body>
        </html>
      '
      allowfullscreen
      allow="fullscreen; picture-in-picture; autoplay;"
    ></iframe>
    
    <div class="footer"></div>
  </div>

</body>
</html>
